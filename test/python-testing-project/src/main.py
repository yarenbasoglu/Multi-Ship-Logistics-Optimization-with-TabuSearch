import csv
import io
from collections import defaultdict

routes_csv = """Route,Ship,StartPort,EndPort,Stops,DemandTons,DurationDays,CostUSD
R1,S1,P1,P1,L1,1100,4,28000
R2,S1,P1,P1,L1-L2,2000,7,49000
R3,S1,P1,P2,L3-L7,2000,7,49000
R4,S1,P1,P2,L5-L4,2000,9,63000
R5,S1,P1,P1,L5-L6,2000,9,63000
R6,S1,P2,P2,L1,1100,4,28000
R7,S1,P2,P2,L1-L2,2000,7,49000
R8,S1,P2,P1,L3-L7,2000,7,49000
R9,S1,P2,P1,L5-L4,2000,9,63000
R10,S1,P2,P2,L5-L6,2000,9,63000
R11,S2,P1,P1,L1,1100,4,34000
R12,S2,P1,P1,L1-L2,2000,7,59500
R13,S2,P1,P2,L3-L7,2300,7,59500
R14,S2,P1,P2,L5-L4,2500,9,76500
R15,S2,P1,P1,L5-L6,2500,9,76500
R16,S2,P2,P2,L1,1100,4,34000
R17,S2,P2,P2,L1-L2,2000,7,59500
R18,S2,P2,P1,L3-L7,2300,7,59500
R19,S2,P2,P1,L5-L4,2500,9,76500
R20,S2,P2,P2,L5-L6,2500,9,76500
R21,S3,P1,P1,L1,1100,4,40000
R22,S3,P1,P1,L1-L2,2000,7,70000
R23,S3,P1,P2,L3-L7,2300,7,70000
R24,S3,P1,P2,L5-L4,3000,9,90000
R25,S3,P1,P1,L5-L6,2900,9,90000
R26,S3,P2,P2,L1,1100,4,40000
R27,S3,P2,P2,L1-L2,2000,7,70000
R28,S3,P2,P1,L3-L7,2300,7,70000
R29,S3,P2,P1,L5-L4,3000,9,90000
R30,S3,P2,P2,L5-L6,2900,9,90000
R31,S4,P1,P1,L1,1100,4,48000
R32,S4,P1,P1,L1-L2,2000,7,84000
R33,S4,P1,P2,L3-L7,2300,7,84000
R34,S4,P1,P2,L5-L4,3000,9,108000
R35,S4,P1,P1,L5-L6,2900,9,108000
R36,S4,P2,P2,L1,1100,4,48000
R37,S4,P2,P2,L1-L2,2000,7,84000
R38,S4,P2,P1,L3-L7,2300,7,84000
R39,S4,P2,P1,L5-L4,3000,9,108000
R40,S4,P2,P2,L5-L6,2900,9,108000
R41,S5,P1,P1,L1,1100,4,54000
R42,S5,P1,P1,L1-L2,2000,7,94500
R43,S5,P1,P2,L3-L7,2300,7,94500
R44,S5,P1,P2,L5-L4,3000,9,121500
R45,S5,P1,P1,L5-L6,2900,9,121500
R46,S5,P2,P2,L1,1100,4,54000
R47,S5,P2,P2,L1-L2,2000,7,94500
R48,S5,P2,P1,L3-L7,2300,7,94500
R49,S5,P2,P1,L5-L4,3000,9,121500
R50,S5,P2,P2,L5-L6,2900,9,121500
R51,S6,P1,P1,L1,1100,4,30000
R52,S6,P1,P1,L1-L2,2000,7,52500
R53,S6,P1,P2,L3-L7,2300,7,52500
R54,S6,P1,P2,L5-L4,2400,9,67500
R55,S6,P1,P1,L5-L6,2400,9,67500
R56,S6,P2,P2,L1,1100,4,30000
R57,S6,P2,P2,L1-L2,2000,7,52500
R58,S6,P2,P1,L3-L7,2300,7,52500
R59,S6,P2,P1,L5-L4,2400,9,67500
R60,S6,P2,P2,L5-L6,2400,9,67500
R61,S7,P1,P1,L1,1100,4,22000
R62,S7,P1,P1,L1-L2,2000,7,38500
R63,S7,P1,P2,L3-L7,1400,7,38500
R64,S7,P1,P2,L5-L4,1400,9,49500
R65,S7,P1,P1,L5-L6,1400,9,49500
R66,S7,P2,P2,L1,1100,4,22000
R67,S7,P2,P2,L1-L2,2000,7,38500
R68,S7,P2,P1,L3-L7,1400,7,38500
R69,S7,P2,P1,L5-L4,1400,9,49500
R70,S7,P2,P2,L5-L6,1400,9,49500
R71,S8,P1,P1,L1,1100,4,24000
R72,S8,P1,P1,L1-L2,2000,7,42000
R73,S8,P1,P2,L3-L7,1800,7,42000
R74,S8,P1,P2,L5-L4,1800,9,54000
R75,S8,P1,P1,L5-L6,1800,9,54000
R76,S8,P2,P2,L1,1100,4,24000
R77,S8,P2,P2,L1-L2,2000,7,42000
R78,S8,P2,P1,L3-L7,1800,7,42000
R79,S8,P2,P1,L5-L4,1800,9,54000
R80,S8,P2,P2,L5-L6,1800,9,54000
R81,S9,P1,P1,L1,1100,4,30000
R82,S9,P1,P1,L1-L2,2000,7,52500
R83,S9,P1,P2,L3-L7,2200,7,52500
R84,S9,P1,P2,L5-L4,2200,9,67500
R85,S9,P1,P1,L5-L6,2200,9,67500
R86,S9,P2,P2,L1,1100,4,30000
R87,S9,P2,P2,L1-L2,2000,7,52500
R88,S9,P2,P1,L3-L7,2200,7,52500
R89,S9,P2,P1,L5-L4,2200,9,67500
R90,S9,P2,P2,L5-L6,2200,9,67500
R91,S10,P1,P1,L1,1100,4,36000
R92,S10,P1,P1,L1-L2,2000,7,63000
R93,S10,P1,P2,L3-L7,2300,7,63000
R94,S10,P1,P2,L5-L4,2900,9,81000
R95,S10,P1,P1,L5-L6,2900,9,81000
R96,S10,P2,P2,L1,1100,4,36000
R97,S10,P2,P2,L1-L2,2000,7,63000
R98,S10,P2,P1,L3-L7,2300,7,63000
R99,S10,P2,P1,L5-L4,2900,9,81000
R100,S10,P2,P2,L5-L6,2900,9,81000
"""

routes = []
reader = csv.DictReader(io.StringIO(routes_csv.strip()))
for row in reader:
    row["DemandTons"] = int(row["DemandTons"])
    row["DurationDays"] = int(row["DurationDays"])
    row["CostUSD"] = int(row["CostUSD"])
    routes.append(row)

total_demand = {
    "L1": 1100,
    "L2": 900,
    "L3": 1500,
    "L4": 1400,
    "L5": 1700,
    "L6": 1200,
    "L7": 800,
    "L8": 1000,
    "L9": 1100,
    "L10": 1000,
}

demand_gas = {}
demand_diesel = {}
for loc, d in total_demand.items():
    gas = int(round(d * 0.6))
    diesel = d - gas
    demand_gas[loc] = gas

north = {"L1", "L2", "L3", "L7", "L8", "L9"}
south = {"L4", "L5", "L6", "L10"}
depots = {"L1", "L3", "L5"}

routes_by_ship = defaultdict(list)
for idx, r in enumerate(routes):
    routes_by_ship[r["Ship"]].append(r)

HORIZON = 35

def evaluate_solution(depot_overstock_penalty_per_ton=40):
    pass

def tabu_search(seed=42):
    pass

if __name__ == "__main__":
    print("Main application logic goes here.")